!function(e){function t(t){for(var i,s,o=t[0],c=t[1],l=t[2],u=0,m=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(d&&d(t);m.length;)m.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},a={0:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;r.push([141,1]),n()}({141:function(e,t,n){e.exports=n(153)},150:function(e,t,n){var i={"./af":5,"./af.js":5,"./ar":6,"./ar-dz":7,"./ar-dz.js":7,"./ar-kw":8,"./ar-kw.js":8,"./ar-ly":9,"./ar-ly.js":9,"./ar-ma":10,"./ar-ma.js":10,"./ar-sa":11,"./ar-sa.js":11,"./ar-tn":12,"./ar-tn.js":12,"./ar.js":6,"./az":13,"./az.js":13,"./be":14,"./be.js":14,"./bg":15,"./bg.js":15,"./bm":16,"./bm.js":16,"./bn":17,"./bn-bd":18,"./bn-bd.js":18,"./bn.js":17,"./bo":19,"./bo.js":19,"./br":20,"./br.js":20,"./bs":21,"./bs.js":21,"./ca":22,"./ca.js":22,"./cs":23,"./cs.js":23,"./cv":24,"./cv.js":24,"./cy":25,"./cy.js":25,"./da":26,"./da.js":26,"./de":27,"./de-at":28,"./de-at.js":28,"./de-ch":29,"./de-ch.js":29,"./de.js":27,"./dv":30,"./dv.js":30,"./el":31,"./el.js":31,"./en-au":32,"./en-au.js":32,"./en-ca":33,"./en-ca.js":33,"./en-gb":34,"./en-gb.js":34,"./en-ie":35,"./en-ie.js":35,"./en-il":36,"./en-il.js":36,"./en-in":37,"./en-in.js":37,"./en-nz":38,"./en-nz.js":38,"./en-sg":39,"./en-sg.js":39,"./eo":40,"./eo.js":40,"./es":41,"./es-do":42,"./es-do.js":42,"./es-mx":43,"./es-mx.js":43,"./es-us":44,"./es-us.js":44,"./es.js":41,"./et":45,"./et.js":45,"./eu":46,"./eu.js":46,"./fa":47,"./fa.js":47,"./fi":48,"./fi.js":48,"./fil":49,"./fil.js":49,"./fo":50,"./fo.js":50,"./fr":51,"./fr-ca":52,"./fr-ca.js":52,"./fr-ch":53,"./fr-ch.js":53,"./fr.js":51,"./fy":54,"./fy.js":54,"./ga":55,"./ga.js":55,"./gd":56,"./gd.js":56,"./gl":57,"./gl.js":57,"./gom-deva":58,"./gom-deva.js":58,"./gom-latn":59,"./gom-latn.js":59,"./gu":60,"./gu.js":60,"./he":61,"./he.js":61,"./hi":62,"./hi.js":62,"./hr":63,"./hr.js":63,"./hu":64,"./hu.js":64,"./hy-am":65,"./hy-am.js":65,"./id":66,"./id.js":66,"./is":67,"./is.js":67,"./it":68,"./it-ch":69,"./it-ch.js":69,"./it.js":68,"./ja":70,"./ja.js":70,"./jv":71,"./jv.js":71,"./ka":72,"./ka.js":72,"./kk":73,"./kk.js":73,"./km":74,"./km.js":74,"./kn":75,"./kn.js":75,"./ko":76,"./ko.js":76,"./ku":77,"./ku.js":77,"./ky":78,"./ky.js":78,"./lb":79,"./lb.js":79,"./lo":80,"./lo.js":80,"./lt":81,"./lt.js":81,"./lv":82,"./lv.js":82,"./me":83,"./me.js":83,"./mi":84,"./mi.js":84,"./mk":85,"./mk.js":85,"./ml":86,"./ml.js":86,"./mn":87,"./mn.js":87,"./mr":88,"./mr.js":88,"./ms":89,"./ms-my":90,"./ms-my.js":90,"./ms.js":89,"./mt":91,"./mt.js":91,"./my":92,"./my.js":92,"./nb":93,"./nb.js":93,"./ne":94,"./ne.js":94,"./nl":95,"./nl-be":96,"./nl-be.js":96,"./nl.js":95,"./nn":97,"./nn.js":97,"./oc-lnc":98,"./oc-lnc.js":98,"./pa-in":99,"./pa-in.js":99,"./pl":100,"./pl.js":100,"./pt":101,"./pt-br":102,"./pt-br.js":102,"./pt.js":101,"./ro":103,"./ro.js":103,"./ru":104,"./ru.js":104,"./sd":105,"./sd.js":105,"./se":106,"./se.js":106,"./si":107,"./si.js":107,"./sk":108,"./sk.js":108,"./sl":109,"./sl.js":109,"./sq":110,"./sq.js":110,"./sr":111,"./sr-cyrl":112,"./sr-cyrl.js":112,"./sr.js":111,"./ss":113,"./ss.js":113,"./sv":114,"./sv.js":114,"./sw":115,"./sw.js":115,"./ta":116,"./ta.js":116,"./te":117,"./te.js":117,"./tet":118,"./tet.js":118,"./tg":119,"./tg.js":119,"./th":120,"./th.js":120,"./tk":121,"./tk.js":121,"./tl-ph":122,"./tl-ph.js":122,"./tlh":123,"./tlh.js":123,"./tr":124,"./tr.js":124,"./tzl":125,"./tzl.js":125,"./tzm":126,"./tzm-latn":127,"./tzm-latn.js":127,"./tzm.js":126,"./ug-cn":128,"./ug-cn.js":128,"./uk":129,"./uk.js":129,"./ur":130,"./ur.js":130,"./uz":131,"./uz-latn":132,"./uz-latn.js":132,"./uz.js":131,"./vi":133,"./vi.js":133,"./x-pseudo":134,"./x-pseudo.js":134,"./yo":135,"./yo.js":135,"./zh-cn":136,"./zh-cn.js":136,"./zh-hk":137,"./zh-hk.js":137,"./zh-mo":138,"./zh-mo.js":138,"./zh-tw":139,"./zh-tw.js":139};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=150},153:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),r=n(140),s=n.n(r),o=n(2),c=n.n(o),l=n(0),d=n.n(l);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var m,h,g=c()("api-ts"),f=new(function(){function e(){}var t=e.prototype;return t.fetchJSON=function(e,t,n,i,a){fetch(e,t).then((function(e){if(g("Response code was "+e.status),e.status>=200&&e.status<=299)return e.json()})).then((function(e){g(e),n(e,200,i,a)})).catch((function(e){g(e),n(null,500,i,a)}))},t.apiFetchJSONWithPost=function(e){g("Executing fetch with URL "+e.originalRequest.url+" with body "+e.originalRequest.params);try{JSON.stringify(e.originalRequest.params)}catch(t){g("Unable to convert parameters to JSON"),g(e.originalRequest.params,100),e.callback(null,404,e.queueType,e.requestId)}var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u({},e.originalRequest.params))};this.fetchJSON(e.originalRequest.url,t,e.callback,e.queueType,e.requestId)},t.apiFetchJSONWithGet=function(e){g("Executing GET fetch with URL "+e.originalRequest.url+" with id "+e.originalRequest.params.id);e.originalRequest.params.id&&(e.originalRequest.url+="/"+e.originalRequest.params.id),this.fetchJSON(e.originalRequest.url,{method:"GET",headers:{"Content-Type":"application/json"}},e.callback,e.queueType,e.requestId)},t.apiFetchJSONWithDelete=function(e){g("Executing DELETE fetch with URL "+e.originalRequest.url+" with id "+e.originalRequest.params.id);e.originalRequest.params.id&&(e.originalRequest.url+="/"+e.originalRequest.params.id),this.fetchJSON(e.originalRequest.url,{method:"DELETE",headers:{"Content-Type":"application/json"}},e.callback,e.queueType,e.requestId)},t.apiFetchJSONWithPut=function(e){g("Executing PUT fetch with URL "+e.originalRequest.url+" with id "+e.originalRequest.params.id);var t={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(u({},e.originalRequest.params))};e.originalRequest.params.id&&(e.originalRequest.url+="/"+e.originalRequest.params.id),this.fetchJSON(e.originalRequest.url,t,e.callback,e.queueType,e.requestId)},e}()),p=new(function(){function e(){}return e.prototype.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},e}());function y(e,t,n,i,a,r,s){try{var o=e[r](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function s(e){y(r,i,a,s,o,"next",e)}function o(e){y(r,i,a,s,o,"throw",e)}s(void 0)}))}}!function(e){e[e.POST=0]="POST",e[e.GET=1]="GET",e[e.PUT=2]="PUT",e[e.DELETE=3]="DELETE"}(m||(m={})),function(e){e[e.PRIORITY=0]="PRIORITY",e[e.BACKGROUND=1]="BACKGROUND"}(h||(h={}));var E=c()("api-ts"),b=new(function(){function e(){this.backgroundQueue=[],this.priorityQueue=[],this.inProgress=[],this.backgroundChangeListener=null,this.priorityChangeListener=null,this.callbackForQueueRequest=this.callbackForQueueRequest.bind(this)}var t=e.prototype;return t.setBackgroundChangeListener=function(e){this.backgroundChangeListener=e},t.setPriorityChangeListener=function(e){this.priorityChangeListener=e},t.getPriorityQueueCount=function(){return this.priorityQueue.length},t.getBackgroundQueueCount=function(){return this.backgroundQueue.length},t.addApiRequest=function(e,t){void 0===t&&(t=!1);var n=p.getUniqueId();if(E("Download Manger: Adding Queue Request "+n),E(e,200),t){var i={originalRequest:e,requestId:n,queueType:h.PRIORITY,callback:this.callbackForQueueRequest};this.priorityQueue.push(i),this.priorityChangeListener&&this.priorityChangeListener.handleEventAddToQueue()}else{var a={originalRequest:e,requestId:n,queueType:h.BACKGROUND,callback:this.callbackForQueueRequest};this.backgroundQueue.push(a),this.backgroundChangeListener&&this.backgroundChangeListener.handleEventAddToQueue()}this.processQueues()},t.processPriorityQueue=function(){var e=v(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==(t=this.priorityQueue.shift())&&this.inProgress.push(t),void 0!==t&&this.initiateFetchForQueueItem(t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.processBackgroundQueue=function(){var e=v(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==(t=this.backgroundQueue.shift())&&this.inProgress.push(t),void 0!==t&&this.initiateFetchForQueueItem(t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.processQueues=function(){var e=v(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.priorityQueue.length+this.backgroundQueue.length;case 1:if(!(t>0)){e.next=14;break}if(E("Download Manager: processing queue, items remaining "+t),!(this.priorityQueue.length>0)){e.next=8;break}return e.next=6,this.processPriorityQueue();case 6:e.next=11;break;case 8:if(!(this.backgroundQueue.length>0)){e.next=11;break}return e.next=11,this.processBackgroundQueue();case 11:t=this.priorityQueue.length+this.backgroundQueue.length,e.next=1;break;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.callbackForQueueRequest=function(e,t,n,i){n===h.PRIORITY?this.priorityChangeListener&&this.priorityChangeListener.handleEventRemoveFromQueue():this.backgroundChangeListener&&this.backgroundChangeListener.handleEventRemoveFromQueue(),E("Download Manager: received callback for queue "+n+" request "+i+" with status "+t);var a=this.inProgress.findIndex((function(e){return e.requestId===i}));if(a>=0){var r=this.inProgress[a];this.inProgress.splice(a,1),E(r),E("Download Manager: finished for queue item "+r.requestId),r.originalRequest.callback(e,t)}},t.initiateFetchForQueueItem=function(e){if(E("Download Manager: initiating fetch for queue item "+e.requestId),E(e),null!==e.originalRequest.url&&null!=e.originalRequest.params&&null!=e.originalRequest.callback)switch(e.originalRequest.type){case m.POST:f.apiFetchJSONWithPost(e);break;case m.GET:f.apiFetchJSONWithGet(e);break;case m.DELETE:f.apiFetchJSONWithDelete(e);break;case m.PUT:f.apiFetchJSONWithPut(e)}},e}()),I=c()("state-manager-ts"),S=function(){function e(){this.applicationState=[],this.stateChangeListeners=[]}e.create=function(){return null===e._instance&&(e._instance=new e),e._instance};var t=e.prototype;return t.isStatePresent=function(e){var t=this.applicationState.findIndex((function(t){return t.name===e}))>=0;return I("State Manager: Checking state of "+e+" is present = "+t),t},t.informChangeListenersForStateWithName=function(e,t){I("State Manager: Informing state listeners of "+e);var n=this.stateChangeListeners.findIndex((function(t){return t.name===e}));if(n>=0){I("State Manager: Found state listeners of "+e);for(var i=this.stateChangeListeners[n],a=0;a<i.listeners.length;a++){I("State Manager: Found state listener of "+e+" - informing"),i.listeners[a].stateChanged(e,t)}}},t.addChangeListenerForName=function(e,t){I("State Manager: Adding state listener for "+e);var n=this.stateChangeListeners.findIndex((function(t){return t.name===e}));if(n>=0){this.stateChangeListeners[n].listeners.push(t)}else{I("State Manager: Adding state listener for "+e+" - first occurrence");var i={name:e,listeners:[t]};this.stateChangeListeners.push(i)}},t.getStateByName=function(e){I("State Manager: Getting state for "+e);var t={},n=this.applicationState.findIndex((function(t){return t.name===e}));n>=0?(t=this.applicationState[n].value,I("State Manager: Found previous state for "+e),I(t)):t=this.addStateByName(e,[]);return t},t.setStateByName=function(e,t){I("State Manager: Setting state for "+e),I(t);var n=this.applicationState.findIndex((function(t){return t.name===e}));n>=0?this.applicationState[n].value=t:this.addStateByName(e,t);return this.informChangeListenersForStateWithName(e,t),t},t.addStateByName=function(e,t){if(this.isStatePresent(e))this.setStateByName(e,t);else{I("State Manager: Adding state for "+e+" - first occurrence"),I(t,201);var n={name:e,value:t};this.applicationState.push(n)}return t},t.addNewItemToState=function(e,t){I("State Manager: Adding item to state "+e);var n=this.getStateByName(e);n.push(t),I(n),this.informChangeListenersForStateWithName(e,n)},t.findItemInState=function(e,t,n){var i={},a=this.getStateByName(e),r=a.findIndex((function(e){return n(e,t)}));return I("Finding item in state "+e+" - found index "+r),I(t),r>=0&&(i=a[r]),i},t.isItemInState=function(e,t,n){var i=!1;return this.getStateByName(e).findIndex((function(e){return n(e,t)}))>=0&&(i=!0),i},t.removeItemFromState=function(e,t,n){var i=!1,a=this.getStateByName(e),r=a.findIndex((function(e){return n(e,t)}));return r>=0&&(i=!0,I("State Manager: Found item - removing "),a.splice(r,1),I(a),this.setStateByName(e,a)),i},t.updateItemInState=function(e,t,n){var i=!1,a=this.getStateByName(e),r=a.findIndex((function(e){return n(e,t)}));return r>=0?(i=!0,I("State Manager: Found item - replacing "),a.splice(r,1,t),I(a),this.setStateByName(e,a)):this.addNewItemToState(e,t),i},e}();S._instance=null;var C=S.create();function w(e,t){return e.id===t.id}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){var t,n;function i(t){return e.call(this,t)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,j(t,n),i.prototype.show=function(e,t,n,i,a){var r=this;void 0===n&&(n=0),void 0===i&&(i="info"),void 0===a&&(a=3e3);var s=this.notificationManager.getContainerId(),o="";switch(i){case"info":o="bg-info";break;case"warning":o="bg-warning";break;case"message":o="bg-primary";break;case"priority":o="bg-danger";break;default:o="bg-info"}var c=document.createElement("div");c.className="notification toast",c.style.top=n+"px",c.setAttribute("role","alert"),c.setAttribute("data-autohide","false");var l=document.createElement("div");l.className="toast-header text-white "+o;var d=document.createElement("strong");d.className="mr-auto",d.textContent=e;var u=document.createElement("button");u.className="ml-2 mb-1 close",u.textContent="x",u.addEventListener("click",(function(){r.notificationManager.remove(c)}));var m=document.createElement("div");m.className="toast-body",m.textContent=t,l.appendChild(d),l.appendChild(u),c.appendChild(l),c.appendChild(m),c.classList.add("is-"+i);var h=document.getElementById(s);return h&&h.appendChild(c),$(".notification").toast("show"),a<=0&&(a=2e3),setTimeout((function(){r.notificationManager.remove(c)}),a),c},i}((function(e){this.show=this.show.bind(this),this.notificationManager=e,this.containerId=this.notificationManager.getContainerId()})),k=new(function(){function e(){}return e.prototype.createNotification=function(e){return new N(e)},e}()),D=new(function(){function e(){this.notifications=[],this.currentCount=0,this.offsetPerNotification=120,this.containerId="notifications",this.show=this.show.bind(this)}var t=e.prototype;return t.getContainerId=function(){return this.containerId},t.show=function(e,t,n,i){void 0===n&&(n="info"),void 0===i&&(i=5e3);var a=k.createNotification(this).show(e,t,this.currentCount*this.offsetPerNotification,n,i);this.currentCount++,this.notifications.push(a)},t.remove=function(e){var t=this,n=this.notifications.findIndex((function(t){return t===e}));n>=0&&(this.notifications.splice(n,1),this.notifications.map((function(e,n){e.style.top=t.offsetPerNotification*n+"px"})));var i=e.parentElement;null!==i&&i.removeChild(e),this.currentCount--,this.currentCount<0&&(this.currentCount=0)},e}()),B=c()("socket-ts"),L=new(function(){function e(){this.callbackForMessage=this.callbackForMessage.bind(this),this.callbackForData=this.callbackForData.bind(this),this.listener=null,this.socket=null}var t=e.prototype;return t.callbackForMessage=function(e){B("Received message : "+e),this.listener&&this.listener.handleMessage(e)},t.callbackForData=function(e){B("Received data");try{var t=JSON.parse(e);if(B(t),null===this.listener)return;t.user===this.listener.getCurrentUser()?B("change made by this user, ignoring"):(B("change made by another user, passing off to the application"),this.listener.handleDataChangedByAnotherUser(t))}catch(e){B("Not JSON data")}},t.setListener=function(e){B("Setting listener"),this.listener=e,B("Creating socket connection"),this.socket=io(),B("Waiting for messages"),this.socket.on("message",this.callbackForMessage),this.socket.on("data",this.callbackForData)},t.sendMessage=function(e){this.socket.emit("message",e)},e}()),O=c()("controller-ts"),x=new(function(){function e(){}var t=e.prototype;return t.connectToApplication=function(e,t){return this.applicationView=e,this.clientSideStorage=t,this.config=this.applicationView.state,this.callbackForUsers=this.callbackForUsers.bind(this),this.callbackForEntries=this.callbackForEntries.bind(this),this.callbackForCreateEntry=this.callbackForCreateEntry.bind(this),this.callbackForCreateComment=this.callbackForCreateComment.bind(this),this.stateChanged=this.stateChanged.bind(this),C.addChangeListenerForName(this.config.stateNames.entries,this),this},t.stateChanged=function(e,t){O("State changes "+e),O(t),this.applicationView.setState({isLoggedIn:this.isLoggedIn(),loggedInUserId:this.getLoggedInUserId(),selectedEntry:{},entries:t})},t.callbackForUsers=function(e,t){O("callback for all users");var n=[];t>=200&&t<=299&&(O(e),e.forEach((function(e){var t={id:e.id,username:e.username};n.push(t)})));C.setStateByName(this.config.stateNames.users,n)},e.convertJSONCommentToComment=function(e){return{id:e.id,content:e.content,createdBy:e.createdBy,changedOn:e.changedOn,commentOn:e.commentOn}},e.convertJSONUserToUser=function(e){return{id:e.id,username:e.username}},e.convertJSONEntryToBlogEntry=function(t){var n={id:t.id,title:t.title,content:t.content,createdBy:t.createdBy,changedOn:t.changedOn,User:null,Comments:[]},i=t.user;i&&(n.User=e.convertJSONUserToUser(i));var a=t.comments;return a&&a.forEach((function(t){var i=e.convertJSONCommentToComment(t);n.Comments.push(i)})),n},t.callbackForEntries=function(t,n){O("callback for all entries");var i=[];n>=200&&n<=299&&(O(t),t.forEach((function(t){var n=e.convertJSONEntryToBlogEntry(t);i.push(n)}))),C.setStateByName(this.config.stateNames.entries,i)},t.callbackForCreateEntry=function(t,n){O("callback for create entry");if(n>=200&&n<=299){O(t);var i=e.convertJSONEntryToBlogEntry(t);C.addNewItemToState(this.config.stateNames.entries,i)}},t.callbackForCreateComment=function(t,n){O("callback for create comment");if(n>=200&&n<=299){var i=e.convertJSONCommentToComment(t);O(i);var a=C.findItemInState(this.config.stateNames.entries,{id:i.commentOn},w);O(a),a&&(O("callback for create comment - updating entry"),a.Comments.push(i),C.updateItemInState(this.config.stateNames.entries,a,w),C.setStateByName(this.config.stateNames.selectedEntry,a),O(a))}},t.getAllUsers=function(){O("Getting All Users");var e={url:this.getServerAPIURL()+this.config.apis.users,type:m.GET,params:{},callback:this.callbackForUsers};b.addApiRequest(e,!0)},t.getAllEntries=function(){O("Getting All Entries");var e={url:this.getServerAPIURL()+this.config.apis.entries,type:m.GET,params:{},callback:this.callbackForEntries};b.addApiRequest(e,!0)},t.apiDeleteComment=function(e){var t={url:this.getServerAPIURL()+this.config.apis.comment,type:m.DELETE,params:{id:e},callback:function(e,t){O("callback for delete comment"),t>=200&&t<=299&&O(e)}};b.addApiRequest(t)},t.apiDeleteEntry=function(e){if(e){var t={url:this.getServerAPIURL()+this.config.apis.entries,type:m.DELETE,params:{id:e.id},callback:function(e,t){O("callback for delete entry"),t>=200&&t<=299&&O(e)}};b.addApiRequest(t)}},t.apiCreateEntry=function(e){if(e){var t={url:this.getServerAPIURL()+this.config.apis.entries,type:m.POST,params:e,callback:this.callbackForCreateEntry};b.addApiRequest(t,!0)}},t.apiCreateComment=function(e){if(e){var t={url:this.getServerAPIURL()+this.config.apis.comment,type:m.POST,params:e,callback:this.callbackForCreateComment};b.addApiRequest(t,!0)}},t.apiUpdateEntry=function(e){if(e){var t={url:this.getServerAPIURL()+this.config.apis.entries,type:m.PUT,params:e,callback:function(e,t){O("callback for update entry"),t>=200&&t<=299&&O(e)}};b.addApiRequest(t)}},t.getServerAPIURL=function(){var e="/api";return window.ENV&&window.ENV.serverURL&&(e=window.ENV.serverURL),e},t.isLoggedIn=function(){var e=!1;try{loggedInUserId&&(e=!0)}catch(e){}return O("Are logged in: "+e),e},t.getLoggedInUserId=function(){var e=-1;try{loggedInUserId&&(e=loggedInUserId)}catch(e){}return O("Logged in user id: "+e),e},t.initialise=function(){O("Initialising data state"),L.setListener(this),this.getAllUsers(),this.getAllEntries()},t.deleteComment=function(e){var t=C.getStateByName(this.config.stateNames.selectedEntry);if(t){O("Handling delete comment for "+t.id+" and comment "+e);var n=t.Comments,i=n.findIndex((function(t){return t.id===e}));i>=0&&(O("Found comment in entry - removing"),n.splice(i,1),O(t),C.setStateByName(this.config.stateNames.selectedEntry,t),C.updateItemInState(this.config.stateNames.entries,t,w))}this.apiDeleteComment(e)},t.deleteEntry=function(e){e&&(O("Handling delete entry for "+e.id),C.removeItemFromState(this.config.stateNames.entries,e,w),this.apiDeleteEntry(e))},t.updateEntry=function(e){e&&(O(e),e.id?(O("Handling update for entry "+e.id),C.updateItemInState(this.config.stateNames.entries,e,w),this.apiUpdateEntry(e)):(O("Handling create for entry"),this.apiCreateEntry(e)))},t.addComment=function(e){e&&(O(e),O("Handling create for comment"),this.apiCreateComment(e))},t.handleMessage=function(e){O(e)},t.getCurrentUser=function(){return this.getLoggedInUserId()},t.handleDataChangedByAnotherUser=function(t){O("Handling data change "+t.type+" on object type "+t.objectType+" made by user "+t.user);var n=C.findItemInState(this.config.stateNames.users,{id:t.user},w),i=t.data;O(i);try{switch(t.type){case"create":switch(t.objectType){case"Comment":var a=C.findItemInState(this.config.stateNames.entries,{id:i.commentOn},w);if(a){var r=e.convertJSONCommentToComment(i);a.Comments.push(r),C.updateItemInState(this.config.stateNames.entries,a,w);var s=C.getStateByName(this.config.stateNames.selectedEntry);s&&s.id===a.id&&C.setStateByName(this.config.stateNames.selectedEntry,a);var o="unknown";n&&(o=n.username),D.show(a.title,o+" added comment "+i.content)}break;case"BlogEntry":var c=e.convertJSONEntryToBlogEntry(i);O("Converting to BlogEntry type for Create"),O(c),C.addNewItemToState(this.config.stateNames.entries,c);var l="unknown";n&&(l=n.username),D.show(i.title,l+" added new entry");break;case"User":var d=e.convertJSONUserToUser(i);C.addNewItemToState(this.config.stateNames.users,d),D.show(i.username,i.username+" has just registered.","message")}break;case"update":switch(t.objectType){case"BlogEntry":var u=e.convertJSONEntryToBlogEntry(i);O("Converting to BlogEntry type for Update"),O(u),C.updateItemInState(this.config.stateNames.entries,u,w)}break;case"delete":switch(t.objectType){case"Comment":var m=C.findItemInState(this.config.stateNames.entries,{id:i.commentOn},w);if(O(m),m){var h=m.Comments,g=h.findIndex((function(e){return e.id===i.id}));if(g>=0){O("Found comment in entry - removing"),h.splice(g,1),O(m),C.updateItemInState(this.config.stateNames.entries,m,w);var f=C.getStateByName(this.config.stateNames.selectedEntry);f&&f.id===m.id&&C.setStateByName(this.config.stateNames.selectedEntry,m)}}break;case"BlogEntry":O("Deleting Blog Entry with id "+i.id);var p=C.findItemInState(this.config.stateNames.entries,i,w);if(O(p),p){O("Deleting Blog Entry with id "+p.id),C.removeItemFromState(this.config.stateNames.entries,p,w);var y=C.getStateByName(this.config.stateNames.selectedEntry);y&&y.id===p.id&&(O("Deleted entry is selected by user, closing sidebars"),this.applicationView.hideAllSideBars()),D.show(p.title,p.User.username+" has deleted this entry.","danger")}}}}catch(e){O(e)}},e}()),R=new(function(){function e(){}var t=e.prototype;return t.scrollSmoothToId=function(e){var t=document.getElementById(e);null!==t&&t.scrollIntoView({block:"start",behavior:"smooth"})},t.scrollSmoothTo=function(e){e.scrollIntoView({block:"start",behavior:"smooth"})},t.removeAllChildren=function(e){if(e&&e.firstChild)for(;e.firstChild;){var t=e.lastChild;t&&e.removeChild(t)}},t.addRemoveClasses=function(e,t,n){void 0===n&&(n=!0),t.split(" ").forEach((function(t){t.trim().length>0&&(n?e.classList.add(t):e.classList.remove(t))}))},e}()),A=c()("view-ts");function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var U=function(e){var t,n;function i(t,n,i,a){var r;return(r=e.call(this,t,n,i,a)||this).eventHide=r.eventHide.bind(T(r)),r.eventShow=r.eventShow.bind(T(r)),r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,F(t,n);var a=i.prototype;return a.onDocumentLoaded=function(){this.eventHide(null);var e=this.document.getElementById(this.uiConfig.dom.sideBarId);if(null!==e){var t=e.querySelector(".close");t&&t.addEventListener("click",this.eventHide)}},a.showHide=function(e){var t=this.document.getElementById(this.uiConfig.dom.sideBarId);if(null!==t)switch(this.uiPrefs.view.location){case"left":case"right":t.style.width=e;break;case"bottom":case"top":t.style.height=e}},a.eventHide=function(e){e&&e.preventDefault(),this.showHide("0%")},a.eventShow=function(e){this.showHide(this.uiPrefs.view.expandedSize)},i}(function(){function e(e,t,n,i){this.applicationView=e,this.document=document,this.uiConfig=n,this.uiPrefs=i,this.config=e.state,this.stateChanged=this.stateChanged.bind(this),this.eventStartDrag=this.eventStartDrag.bind(this),this.eventClickItem=this.eventClickItem.bind(this)}var t=e.prototype;return t.eventStartDrag=function(e){A("Abstract View : drag start",10);var t=JSON.stringify(this.getDragData(e));A(t,10),e.dataTransfer.setData(this.applicationView.state.ui.draggable.draggableDataKeyId,t)},t.createResultsForState=function(e,t){var n=this;A("Abstract View : creating Results",10),A(t);var i=this.uiConfig.dom,a=document.getElementById(i.resultsId);a&&R.removeAllChildren(a),t.map((function(t,r){var s=n.document.createElement(i.resultsElementType);R.addRemoveClasses(s,i.resultsClasses),s.setAttribute(i.resultDataKeyId,n.getIdForStateItem(e,t)),s.setAttribute(i.resultLegacyDataKeyId,n.getLegacyIdForStateItem(e,t)),s.setAttribute(i.resultDataSourceId,i.resultDataSourceValue);var o=n.getDisplayValueForStateItem(e,t),c=n.getModifierForStateItem(e,t),l=n.getSecondaryModifierForStateItem(e,t);switch(c){case"normal":switch(A("Abstract View: normal item",10),R.addRemoveClasses(s,i.modifierClassNormal),""!==i.iconNormal?s.innerHTML=o+i.iconNormal:s.innerText=o,l){case"warning":R.addRemoveClasses(s,i.modifierClassNormal,!1),R.addRemoveClasses(s,i.modifierClassWarning,!0),""!==i.iconWarning&&(s.innerHTML+=i.iconWarning)}break;case"active":switch(A("Abstract View: active item",10),R.addRemoveClasses(s,i.modifierClassActive),""!==i.iconActive?s.innerHTML=o+i.iconActive:s.innerText=o,l){case"warning":R.addRemoveClasses(s,i.modifierClassNormal,!1),R.addRemoveClasses(s,i.modifierClassWarning,!0),""!==i.iconWarning&&(s.innerHTML+=i.iconWarning)}break;case"inactive":switch(A("Abstract View: inactive item",10),R.addRemoveClasses(s,i.modifierClassInactive),""!==i.iconInactive?s.innerHTML=o+i.iconInactive:s.innerText=o,l){case"warning":""!==i.iconWarning&&(s.innerHTML+=i.iconWarning)}}i.isDraggable&&(s.setAttribute("draggable","true"),s.addEventListener("dragstart",n.eventStartDrag)),i.isClickable&&s.addEventListener("click",n.eventClickItem),A("Abstract View: Adding child "+t.id),a&&a.appendChild(s)}))},t.stateChanged=function(e,t){this.updateView(e,t)},e}());function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=c()("view-ts:comments"),H=function(e){var t,n;function i(t,n){var i;return(i=e.call(this,t,n,t.state.ui.commentSideBar,t.state.uiPrefs.commentSideBar)||this).updateView=i.updateView.bind(q(i)),i.commentHeaderEl=n.getElementById(i.uiConfig.dom.headerId),i.newCommentFormEl=n.getElementById(i.uiConfig.dom.newFormId),i.newCommentFormEl&&i.newCommentFormEl.addEventListener("submit",i.applicationView.handleAddComment),i.newCommentTextEl=n.getElementById(i.uiConfig.dom.commentId),i.newCommentSubmitEl=n.getElementById(i.uiConfig.dom.submitCommentId),C.addChangeListenerForName(i.config.stateNames.selectedEntry,q(i)),i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,M(t,n);var a=i.prototype;return a.getIdForStateItem=function(e,t){return t.id},a.getLegacyIdForStateItem=function(e,t){return t.id},a.getDisplayValueForStateItem=function(e,t){P("Getting display value for comment "+t.id+" with content "+t.content);var n=C.findItemInState(this.config.stateNames.users,{id:t.createdBy},w),i=d()(t.changedOn,"YYYYMMDDHHmmss").format("DD/MM/YYYY HH:mm");return t.content+" - "+n.username+" on "+i+"  "},a.getModifierForStateItem=function(e,t){var n="inactive";return t.createdBy===x.getLoggedInUserId()&&(n="normal"),n},a.getSecondaryModifierForStateItem=function(e,t){return"normal"},a.eventClickItem=function(e){e.preventDefault();var t=C.getStateByName(this.config.stateNames.selectedEntry);P(e.target);var n=e.target.getAttribute(this.uiConfig.dom.resultDataKeyId);if(!n){var i=e.target.parentNode;n=i.getAttribute(this.uiConfig.dom.resultDataKeyId)}if(P("Comment "+e.target.innerText+" with id "+n+" clicked",20),n){n=parseInt(n);var a=t.Comments.find((function(e){return e.id===n}));a&&(P("Comment created by "+a.createdBy+" and current user is "+x.getLoggedInUserId()),a.createdBy===x.getLoggedInUserId()&&this.applicationView.handleDeleteComment(parseInt(n)))}},a.updateView=function(e,t){P("Updating view"),P(t),x.isLoggedIn()?(this.newCommentTextEl&&this.newCommentTextEl.removeAttribute("readonly"),this.newCommentSubmitEl&&this.newCommentSubmitEl.removeAttribute("disabled")):(this.newCommentTextEl&&this.newCommentTextEl.setAttribute("readonly","true"),this.newCommentSubmitEl&&this.newCommentSubmitEl.setAttribute("disabled","true")),t&&t.Comments&&(this.commentHeaderEl&&(this.commentHeaderEl.innerHTML=t.title),P(t.Comments),this.createResultsForState(e,t.Comments))},a.getDragData=function(e){},i}(U),V=n(3),Y=n.n(V),Q=c()("view-ts:blogentry");function J(e){var t,n,i=e.entry,r=e.showCommentsHandler,s=e.editEntryHandler,o=e.deleteEntryHandler;return i?(Q("Entry "+i.User.id+" === "+x.getLoggedInUserId()),i.User.id===x.getLoggedInUserId()?(t=a.a.createElement("button",{type:"button",className:"btn-primary btn-sm rounded p-1 mr-2","entry-id":i.id,onClick:s},"  Edit  ",a.a.createElement("i",{className:"fas fa-edit"}),"  "),n=a.a.createElement("button",{type:"button",className:"btn-warning btn-sm rounded p-1 mr-2","entry-id":i.id,onClick:o},"  Delete  ",a.a.createElement("i",{className:"fas fa-trash-alt"}),"  ")):(t=a.a.createElement("button",{type:"button",className:"btn-outline-secondary btn-sm rounded p-1 mr-2 ",disabled:!0},"  Edit  ",a.a.createElement("i",{className:"fas fa-edit"}),"  "),n=a.a.createElement("button",{type:"button",className:"btn-outline-secondary btn-sm rounded p-1 mr-2",disabled:!0},"  Delete  ",a.a.createElement("i",{className:"fas fa-trash-alt"}),"  ")),a.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4 col-xl-3 p-2"},a.a.createElement("div",{className:"card",style:{width:"350px"}},a.a.createElement("div",{className:"card-header"},i.title,"    ",a.a.createElement("a",{className:"text-decoration-none"},a.a.createElement("i",{className:"fas fa-comments text-secondary","entry-id":i.id,onClick:r}),"  ",a.a.createElement("span",{className:"badge badge-pill badge-primary text-right","entry-id":i.id,onClick:r}," ",i.Comments.length," "))),a.a.createElement("div",{className:"card-body"},a.a.createElement("p",{className:"card-text"},i.content),t,n),a.a.createElement("div",{className:"card-footer text-right text-muted"},i.User.username," on ",d()(i.changedOn,"YYYYMMDDHHmmss").format("DD/MM/YYYY"))))):a.a.createElement("div",null)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}J.propTypes={entry:Y.a.any.isRequired,showCommentsHandler:Y.a.func.isRequired,editEntryHandler:Y.a.func.isRequired,deleteEntryHandler:Y.a.func.isRequired};var W=c()("view-ts:details"),K=function(e){var t,n;function i(t,n){var i;return(i=e.call(this,t,n,t.state.ui.entryDetailsSideBar,t.state.uiPrefs.entryDetailsSideBar)||this).updateView=i.updateView.bind(_(i)),i.eventClickItem=i.eventClickItem.bind(_(i)),i.formEl=document.getElementById(i.uiConfig.dom.formId),i.titleEl=document.getElementById(i.uiConfig.dom.titleId),i.contentEl=document.getElementById(i.uiConfig.dom.contentId),i.changeOnEl=document.getElementById(i.uiConfig.dom.changedOnId),C.addChangeListenerForName(i.config.stateNames.selectedEntry,_(i)),i.formEl&&i.formEl.addEventListener("submit",i.eventClickItem),i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,z(t,n);var a=i.prototype;return a.getIdForStateItem=function(e,t){return t.id},a.getLegacyIdForStateItem=function(e,t){return t.id},a.eventClickItem=function(e){e.preventDefault(),W("Handling submit Details Sidebar View"),W(e.target);var t=C.getStateByName(this.config.stateNames.selectedEntry);W(t),t.title=this.titleEl?this.titleEl.value.trim():"",t.content=this.contentEl?this.contentEl.value.trim():"",t.changedOn=parseInt(d()().format("YYYYMMDDHHmmss")),W(t),this.titleEl&&(this.titleEl.value=""),this.contentEl&&(this.contentEl.value=""),this.changeOnEl&&(this.changeOnEl.innerText="Last Changed On:"),this.applicationView.handleUpdateEntry(t)},a.updateView=function(e,t){W("Handling update of Details Sidebar View"),W(t);var n=t;n&&n.title?(this.titleEl&&(this.titleEl.value=n.title),this.contentEl&&(this.contentEl.value=n.content),this.changeOnEl&&(this.changeOnEl.innerText="Last Changed On: "+d()(n.changedOn,"YYYYMMDDHHmmss").format("DD/MM/YYYY"))):(this.titleEl&&(this.titleEl.value=""),this.contentEl&&(this.contentEl.value=""),this.changeOnEl&&(this.changeOnEl.innerText="Last Changed On: "))},a.getDisplayValueForStateItem=function(e,t){return""},a.getDragData=function(e){},a.getModifierForStateItem=function(e,t){return""},a.getSecondaryModifierForStateItem=function(e,t){return""},i}(U);function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Z=c()("app"),ee=function(e){var t,n;function i(){var t;return(t=e.call(this)||this).state={isLoggedIn:!1,loggedInUserId:-1,entries:[],selectedEntry:{},applyUserFilter:!1,stateNames:{users:"users",entries:"entries",selectedEntry:"selectedEntry"},apis:{users:"/users",entries:"/blog",entry:"/blog",comment:"/comment",login:"/login"},ui:{alert:{modalId:"alert",titleId:"alert-title",contentId:"alert-content",cancelButtonId:"alert-cancel",confirmButtonId:"alert-confirm",closeButtonId:"alert-close",hideClass:"d-none",showClass:"d-block"},navigation:{showMyEntriesId:"navigationItemDashboard",addNewEntryId:"navigationItemAddNewEntry",showAllEntriesId:"navigationItemShowAll"},blogEntry:{},entryDetailsSideBar:{dom:{sideBarId:"detailsSideBar",formId:"details",titleId:"title",contentId:"content",changedOnId:"changedOn",resultDataKeyId:"id",isDraggable:!1,isClickable:!0}},commentSideBar:{dom:{sideBarId:"commentSideBar",headerId:"commentHeader",resultsId:"comments",resultsElementType:"button",resultsElementAttributes:[["type","button"]],resultsClasses:"list-group-item my-list-item truncate-comment list-group-item-action",resultDataKeyId:"id",resultLegacyDataKeyId:"id",modifierClassNormal:"float-right list-group-item-primary text-right",modifierClassInactive:"float-left list-group-item-dark text-left",modifierClassActive:"list-group-item-primary",modifierClassWarning:"list-group-item-warning",iconNormal:'<i class="fas fa-trash-alt"></i>',iconInactive:"",iconActive:"",iconWarning:"",isDraggable:!1,isClickable:!0,newFormId:"newComment",commentId:"comment",submitCommentId:"submitComment"}}},uiPrefs:{navigation:{},blogEntry:{},commentSideBar:{view:{location:"right",expandedSize:"50%"}},entryDetailsSideBar:{view:{location:"left",expandedSize:"35%"}}},controller:{events:{entry:{eventDataKeyId:"entry-id"}},dataLimit:{}}},t.cancelDelete=t.cancelDelete.bind(G(t)),t.confirmDelete=t.confirmDelete.bind(G(t)),t.handleShowMyEntries=t.handleShowMyEntries.bind(G(t)),t.handleSelectEntryComments=t.handleSelectEntryComments.bind(G(t)),t.handleShowEditEntry=t.handleShowEditEntry.bind(G(t)),t.handleUpdateEntry=t.handleUpdateEntry.bind(G(t)),t.handleAddEntry=t.handleAddEntry.bind(G(t)),t.handleAddComment=t.handleAddComment.bind(G(t)),t.handleDeleteEntry=t.handleDeleteEntry.bind(G(t)),t.handleDeleteComment=t.handleDeleteComment.bind(G(t)),x.connectToApplication(G(t),window.localStorage),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,X(t,n);var r=i.prototype;return r.getCurrentUser=function(){return x.getLoggedInUserId()},r.alert=function(e,t){this.titleEl.textContent=e,this.contentEl.textContent=t,this.modalEl.classList.remove(this.state.ui.alert.hideClass),this.modalEl.classList.add(this.state.ui.alert.showClass)},r.render=function(){var e=this;Z("Rendering App"),Z(this.state.entries),Z(this.state.applyUserFilter);var t=this.state.entries;this.state.applyUserFilter&&x.isLoggedIn()&&x.getLoggedInUserId()>0&&(t=t.filter((function(e){return e.createdBy===x.getLoggedInUserId()})));var n=t.map((function(t,n){return a.a.createElement(J,{key:n,entry:t,showCommentsHandler:e.handleSelectEntryComments,editEntryHandler:e.handleShowEditEntry,deleteEntryHandler:e.handleDeleteEntry})}));return a.a.createElement("div",{className:"Root row ml-1"},n)},r.cancelDelete=function(e){this.modalEl.classList.remove(this.state.ui.alert.showClass),this.modalEl.classList.add(this.state.ui.alert.hideClass),e.preventDefault()},r.confirmDelete=function(e){this.modalEl.classList.remove(this.state.ui.alert.showClass),this.modalEl.classList.add(this.state.ui.alert.hideClass),e.preventDefault();var t=this.modalEl.getAttribute(this.state.controller.events.entry.eventDataKeyId);if(Z("Handling Delete Entry "+t),t){t=parseInt(t);var n=C.findItemInState(this.state.stateNames.entries,{id:t},w);n&&(x.deleteEntry(n),C.removeItemFromState(this.state.stateNames.entries,n,w))}},r.componentDidMount=function(){Z("component Did Mount"),this.commentView=new H(this,document),this.commentView.onDocumentLoaded(),this.detailsView=new K(this,document),this.detailsView.onDocumentLoaded(),document&&(document.getElementById(this.state.ui.navigation.addNewEntryId).addEventListener("click",this.handleAddEntry),document.getElementById(this.state.ui.navigation.showMyEntriesId).addEventListener("click",this.handleShowMyEntries)),this.modalEl=document.getElementById(this.state.ui.alert.modalId),this.titleEl=document.getElementById(this.state.ui.alert.titleId),this.contentEl=document.getElementById(this.state.ui.alert.contentId),this.cancelBtnEl=document.getElementById(this.state.ui.alert.cancelButtonId),this.confirmBtnEl=document.getElementById(this.state.ui.alert.confirmButtonId),this.closeBtnEl=document.getElementById(this.state.ui.alert.closeButtonId),this.cancelBtnEl&&this.cancelBtnEl.addEventListener("click",this.cancelDelete),this.confirmBtnEl&&this.confirmBtnEl.addEventListener("click",this.confirmDelete),this.closeBtnEl&&this.closeBtnEl.addEventListener("click",this.cancelDelete),x.initialise()},r.hideAllSideBars=function(){this.commentView.eventHide(null),this.detailsView.eventHide(null)},r.handleShowMyEntries=function(e){Z("Handling Show My Entries"),this.hideAllSideBars(),x.isLoggedIn()?this.setState({applyUserFilter:!0}):window.location.href=this.state.apis.login},r.handleAllEntries=function(e){Z("Handling Show All Entries"),this.setState({applyUserFilter:!1}),this.hideAllSideBars()},r.handleAddEntry=function(e){if(Z("Handling Add Entry"),e.preventDefault(),this.hideAllSideBars(),x.isLoggedIn()){var t=C.findItemInState(this.state.stateNames.users,{id:x.getLoggedInUserId()},w);Z(t);var n={title:"",content:"",createdBy:t.id,changedOn:parseInt(d()().format("YYYYMMDDHHmmss")),Comments:[],User:{id:t.id,username:t.username}};Z(n),this.setState({selectedEntry:n}),C.setStateByName(this.state.stateNames.selectedEntry,n),this.detailsView.eventShow(e)}else window.location.href=this.state.apis.login},r.handleAddComment=function(e){Z("Handling Add Comment"),e.preventDefault();var t=document.getElementById(this.state.ui.commentSideBar.dom.commentId);if(!t||0!==t.value.trim().length)if(x.isLoggedIn()){var n=C.findItemInState(this.state.stateNames.users,{id:x.getLoggedInUserId()},w);Z(n);var i=C.getStateByName(this.state.stateNames.selectedEntry);if(i&&t){var a={createdBy:n.id,commentOn:i.id,changedOn:parseInt(d()().format("YYYYMMDDHHmmss")),content:t.value.trim()};t.value="",x.addComment(a),Z(a)}}else window.location.href=this.state.apis.login},r.handleSelectEntryComments=function(e){Z("Handling Select Entry Comments"),e.preventDefault(),this.hideAllSideBars();var t=e.target.getAttribute(this.state.controller.events.entry.eventDataKeyId);if(Z("Handling Show Edit Entry "+t),t){t=parseInt(t);var n=C.findItemInState(this.state.stateNames.entries,{id:t},w);Z(n),n&&(this.setState({selectedEntry:n}),C.setStateByName(this.state.stateNames.selectedEntry,n),this.commentView.eventShow(e))}},r.handleShowEditEntry=function(e){e.preventDefault(),this.hideAllSideBars();var t=e.target.getAttribute(this.state.controller.events.entry.eventDataKeyId);if(Z("Handling Show Edit Entry "+t),t){t=parseInt(t);var n=C.findItemInState(this.state.stateNames.entries,{id:t},w);Z(n),n&&(this.setState({selectedEntry:n}),C.setStateByName(this.state.stateNames.selectedEntry,n),this.detailsView.eventShow(e))}},r.handleDeleteEntry=function(e){e.preventDefault(),this.hideAllSideBars();var t=e.target.getAttribute(this.state.controller.events.entry.eventDataKeyId);if(Z("Handling Delete Entry "+t),t){this.modalEl.setAttribute(this.state.controller.events.entry.eventDataKeyId,t),t=parseInt(t);var n=C.findItemInState(this.state.stateNames.entries,{id:t},w);this.alert(n.title,"Are you sure you want to delete this blog entry?")}},r.handleDeleteComment=function(e){x.deleteComment(e)},r.handleUpdateEntry=function(e){this.hideAllSideBars(),x.updateEntry(e)},i}(a.a.Component),te=a.a.createElement(ee,{className:"container-fluid justify-content-around"});s.a.render(te,document.getElementById("root"))}});
//# sourceMappingURL=app.bundle.js.map